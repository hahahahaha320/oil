## 常见场景算法总结

1. 限流算法：
	- 计数器算法（固定窗口）:简单粗暴，但是有"突刺现象":即可能前面10ms就把计数器推到最大值了，后面的990ms都无法处理请求。
	- 滑动窗口算法：滑动窗口的滚动就越平滑，限流的统计就会越精确。
	- 漏桶算法：解决了"突刺现象"，把请求放到一个桶，定时处理请求.如果桶满了，就拒绝请求。存在弊端：永远以固定速度处理请求，无法应对短时间的突发流量。
	- 令牌桶算法：令牌桶算法是程序以r（r=时间周期/限流值）的速度向令牌桶中增加令牌，直到令牌桶满，请求到达时向令牌桶请求令牌，如获取到令牌则通过请求，否则触发限流策略。如果突发流量过来，此时令牌桶是满的，就可以处理这些突发流量。Google开源的guava包中RateLimiter类实现了令牌桶算法。

2. 负载均衡算法：一种是静态负载均衡，一种是动态负载均衡。
静态负载均衡：
```
	- 轮询法（Round Robin）
	- 加权轮询法（Weight Round Robin）
	- 随机法（Random）
	- 加权随机法（Weight Random）
	- 源地址哈希法（Hash）
	- 键值范围法
```
动态负载均衡:
```
	- 最小连接数法
	- 最快响应速度法
	- 最小连接数和最快响应度:同时考量这两个指标数，进行一个权重的分配。
```
3. LRU算法及其变种：
- LRU-K:K代表最近使用的次数，因此LRU可以认为是LRU-1。LRU-K的主要目的是为了解决LRU算法“缓存污染”的问题，其核心思想是将“最近使用过1次”的判断标准扩展为“最近使用过K次”。
- LRU-2Q:类似LRU-2。Two queues，一个FIFO队列，一个LRU队列，被访问了先进入FIFO队列，再次访问进入LRU队列。FIFO和LRU按照自己的规则淘汰对象。
- mysql_lru改进：分为两部分：young（热数据）和old（冷数据），处于LRU_OLD里的数据页，每次访问时都需要判断一下，如果该数据页在LRU链表中存在时间超过1s，就将其移动到young的链表头部。防止一次性的大查询读取的数据页污染整个LRU列表,影响整体的事务命中率